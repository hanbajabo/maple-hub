<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6차(헥사) 스킬 우선 강화 가이드</title>
  <link rel="stylesheet" href="hexa6.css" />
  <style>
    /* Fallback minimal styling if CSS fails */
    body { font-family: 'Inter', sans-serif; background: #111; color: #eee; margin:0; padding:0; }
  </style>
</head>
<body>
  <header class="header">
    <h1>6차(헥사) 스킬 우선 강화 가이드</h1>
    <p class="subtitle">레벨 260+ / 전투력 5천만‑2억 (Nexon API 최신 데이터)</p>
  </header>

  <main id="content" class="content">
    <!-- Job sections will be injected here -->
    <div class="loader">데이터 로딩 중…</div>
  </main>

  <footer class="footer">
    <small>© Maple Hub • Generated by Nexon Open API • 2025</small>
  </footer>

  <script>
    // Fetch the JSON generated by fetch_hexa_from_nexon.js
    fetch('hexa6_by_job.json')
      .then(r => r.ok ? r.json() : Promise.reject('JSON fetch error'))
      .then(data => {
        const container = document.getElementById('content');
        container.innerHTML = '';
        for (const [job, skills] of Object.entries(data)) {
          const section = document.createElement('section');
          section.className = 'job-section';
          const title = document.createElement('h2');
          title.textContent = job;
          section.appendChild(title);
          const ul = document.createElement('ul');
          ul.className = 'skill-list';
          const top = skills.slice(0,7);
          top.forEach(sk => {
            const li = document.createElement('li');
            li.textContent = `${sk.name} (평균 레벨: ${sk.averageLevel})`;
            ul.appendChild(li);
          });
          section.appendChild(ul);
          container.appendChild(section);
        }
      })
      .catch(err => {
        const loader = document.querySelector('.loader');
        loader.textContent = '데이터 로드 실패: ' + err;
      });
  </script>
</body>
</html>
