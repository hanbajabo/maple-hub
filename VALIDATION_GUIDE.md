# 🧪 리팩토링 검증 가이드

## ✅ 중앙화 리팩토링 완료 상태

모든 진단 로직이 `lib/config/unified_criteria.ts`를 기준으로 통합되었습니다.

**완료된 항목:**
- ✅ 스타포스 기준
- ✅ 잠재능력 기준 (메인 + 에디셔널)
- ✅ 추가옵션 기준
- ✅ 주문서 작 기준
- ✅ 특수 옵션 (쿨감, 크뎀)

---

## 🔍 검증 방법

### 방법 1: 개발 서버 실행 (추천)

1. **개발 서버 시작**
   ```bash
   npm run dev
   ```

2. **브라우저에서 확인**
   - http://localhost:3000 접속
   - 실제 캐릭터 검색 또는 테스트 데이터를 통해 AI 진단 실행
   - 각 장비 슬롯별 진단 결과 확인

3. **확인 포인트**
   - 스타포스: 22성 → "졸업", 17성 → "국민"
   - 잠재: 레전드리 30% → "종결"
   - 추옵: 200제 170급 → "종결"
   - 주문서: 장갑 공격력+4 → "15% 완작"

### 방법 2: 수동 코드 검증

1. **상수 정의 확인**
   - `lib/config/unified_criteria.ts` 파일 열기
   - 각 상수의 값이 올바른지 확인

2. **Import 확인**
   - 각 진단 파일에서 `unified_criteria`를 올바르게 import했는지 확인
   - 예: `import { STARFORCE_TIERS } from './config/unified_criteria'`

3. **사용처 확인**
   - 하드코딩된 숫자가 상수로 교체되었는지 확인
   - 예: `starforce >= 22` → `starforce >= STARFORCE_TIERS.ENDGAME`

### 방법 3: 빌드 테스트

```bash
npm run build
```

빌드가 성공하면 TypeScript 타입 체크를 통과한 것입니다.

---

## 📋 수동 테스트 체크리스트

### 무기 진단
- [ ] 22성 무기 → "졸업" 메시지
- [ ] 17성 무기 → "국민" 메시지
- [ ] 1티어 추옵 → "종결" 메시지
- [ ] 보공 3줄 → "종결" 메시지

### 방어구 진단
- [ ] 21성 → "준종결" 메시지
- [ ] 레전드리 30% → "종결" 메시지
- [ ] 에디셔널 21% → "종결" 메시지
- [ ] 170급 추옵 → "종결" 메시지

### 장갑 진단
- [ ] 크뎀 3줄 → "신화" 메시지
- [ ] 크뎀 2줄 → "종결" 메시지

### 모자 진단
- [ ] 쿨감 6초 → "초월급" 메시지
- [ ] 쿨감 4초 → "최상급" 메시지

### 장신구 진단
- [ ] 타일런트 12성 → "준종결" 메시지
- [ ] 칠흑 반지 18성 → "고스펙" 메시지

---

## 🎯 예상 결과

모든 진단이 `unified_criteria.ts`의 기준에 따라 정확하게 평가되어야 합니다.

**변경 전후 비교:**
- 기존과 동일한 진단 결과가 나와야 함
- 단, 이제는 기준을 `unified_criteria.ts`에서 한 번에 수정 가능

---

## 🐛 문제 발생 시

1. **Import 오류**
   - 경로가 올바른지 확인
   - `../../config/unified_criteria` vs `../config/unified_criteria`

2. **타입 오류**
   - 상수 이름이 올바른지 확인
   - `STARFORCE_TIERS.ENDGAME` (O) vs `STARFORCE_TIERS.END_GAME` (X)

3. **런타임 오류**
   - 개발자 도구 콘솔에서 오류 메시지 확인
   - 누락된 import가 있는지 체크

---

## ✅ 검증 완료 후

모든 기능이 정상 작동하면:
1. `CENTRALIZATION_PLAN.md`에 검증 완료 표시
2. Git commit: "✅ 중앙화 리팩토링 검증 완료"
3. 프로젝트 문서 업데이트

**축하합니다! 🎉**
코드베이스가 훨씬 더 유지보수하기 쉬워졌습니다.
