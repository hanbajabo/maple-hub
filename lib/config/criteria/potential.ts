/**
 * ============================================================================
 * ðŸ’Ž ìž ìž¬ëŠ¥ë ¥ ê¸°ì¤€ (Potential Criteria)
 * ============================================================================
 */

/**
 * ìž ìž¬ëŠ¥ë ¥ ë“±ê¸‰ë³„ ìŠ¤íƒ¯ % ê¸°ì¤€ (ë°©ì–´êµ¬/ìž¥ì‹ êµ¬)
 */
export const MAIN_POTENTIAL_STAT = {
    /** ë ˆì „ë“œë¦¬ */
    LEGENDARY: {
        /** ì´ˆì›”ê¸‰ (36% ì´ìƒ - ì£¼ìŠ¤íƒ¯ 12/12/12) */
        MYTHIC: 36,
        /** ì—”ë“œê¸‰ (34% ì´ìƒ) */
        ENDGAME_HIGH: 34,
        /** ìµœìƒê¸‰/ì¢…ê²° (30~33% - ì£¼ìŠ¤íƒ¯ 12/12/9 ë˜ëŠ” 12/12/6) */
        ENDGAME: 30,
        /** ì¢‹ìŒ (21% ì´ìƒ - ì£¼ìŠ¤íƒ¯ 9/9/3 ë˜ëŠ” 12/6/3) */
        GOOD: 21,
        /** ì¡°ê¸ˆ ì¢‹ìŒ (18% ì´ìƒ - ì£¼ìŠ¤íƒ¯+ì˜¬ìŠ¤íƒ¯ ì¡°í•©) */
        DECENT_PLUS: 18,
        /** ì¤€ìˆ˜/í†µê³¼ (15% ì´ìƒ - 2ì¤„ ê¸°ë³¸) */
        DECENT: 15,
    },
    /** ë ˆì „ë“œë¦¬ (201+ ë ˆë²¨ ìž¥ë¹„ - ì—í…Œë¥´ë„¬ ë“±) */
    LEGENDARY_HIGH_LEVEL: {
        /** ì´ˆì›”ê¸‰ (39% ì´ìƒ) */
        MYTHIC: 39,
        /** ì—”ë“œê¸‰ (36% ì´ìƒ) */
        ENDGAME_HIGH: 36,
        /** ìµœìƒê¸‰/ì¢…ê²° (33% ì´ìƒ) */
        ENDGAME: 33,
        /** ì¢‹ìŒ (23% ì´ìƒ) */
        GOOD: 23,
        /** ì¡°ê¸ˆ ì¢‹ìŒ (20% ì´ìƒ) */
        DECENT_PLUS: 20,
        /** ì¤€ìˆ˜/í†µê³¼ (16% ì´ìƒ) */
        DECENT: 16,
    },
    /** ì œë…¼ ë ˆì „ë“œë¦¬ (71~200ì œ) - ì˜¬ìŠ¤íƒ¯ë§Œ ì£¼ìŠ¤íƒ¯ */
    XENON_LEGENDARY: {
        /** ì´ˆì›”ê¸‰ (27% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 9/9/9) */
        MYTHIC: 27,
        /** ì—”ë“œê¸‰ (24% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 9/9/6) */
        ENDGAME_HIGH: 24,
        /** ìµœìƒê¸‰/ì¢…ê²° (21% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 9/6/6 ì •ì˜µ) */
        ENDGAME: 21,
        /** ì¢‹ìŒ (18% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 6/6/6) */
        GOOD: 18,
        /** ì¡°ê¸ˆ ì¢‹ìŒ (15% ì´ìƒ) */
        DECENT_PLUS: 15,
        /** ì¤€ìˆ˜/í†µê³¼ (12% ì´ìƒ) */
        DECENT: 12,
    },
    /** ì œë…¼ ë ˆì „ë“œë¦¬ (201+ì œ - ì—í…Œë¥´ë„¬ ë“±) - ì˜¬ìŠ¤íƒ¯ë§Œ ì£¼ìŠ¤íƒ¯ */
    XENON_LEGENDARY_HIGH_LEVEL: {
        /** ì´ˆì›”ê¸‰ (30% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 10/10/10) */
        MYTHIC: 30,
        /** ì—”ë“œê¸‰ (27% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 10/10/7) */
        ENDGAME_HIGH: 27,
        /** ìµœìƒê¸‰/ì¢…ê²° (24% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 10/7/7 ì •ì˜µ) */
        ENDGAME: 24,
        /** ì¢‹ìŒ (21% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 7/7/7) */
        GOOD: 21,
        /** ì¡°ê¸ˆ ì¢‹ìŒ (17% ì´ìƒ) */
        DECENT_PLUS: 17,
        /** ì¤€ìˆ˜/í†µê³¼ (14% ì´ìƒ) */
        DECENT: 14,
    },
    /** ì œë…¼ ìœ ë‹ˆí¬ */
    XENON_UNIQUE: {
        /** íƒˆìœ ë‹ˆí¬ê¸‰ (18% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 6/6/6) - ë ˆì „ë“œë¦¬ 2ì¤„ë³´ë‹¤ ì¢‹ìŒ */
        LEGENDARY_TIER: 18,
        /** 1í‹°ì–´ (15% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 6/6/3) */
        TIER1: 15,
        /** ì •ì˜µ (12% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 6/3/3) */
        STANDARD: 12,
        /** ìµœì†Œ (9% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 6/3) */
        MINIMUM: 9,
    },
    /** ì œë…¼ ì—í”½ */
    XENON_EPIC: {
        /** ì—í”½ ì¢…ê²° (9% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 3/3/3 ì´íƒˆ) */
        ENDGAME: 9,
        /** ì •ì˜µ (6% ì´ìƒ - ì˜¬ìŠ¤íƒ¯ 3/3) */
        STANDARD: 6,
        /** í†µê³¼ (3% ì´ìƒ) */
        PASS: 3,
    },
    /** ìœ ë‹ˆí¬ */
    UNIQUE: {
        /** ì¢…ê²°ê¸‰ (21% ì´ìƒ - ì£¼ìŠ¤íƒ¯ 7/7/7) */
        EXCELLENT: 21,
        /** ì¤€ìˆ˜/í†µê³¼ (15% ì´ìƒ - ì£¼ìŠ¤íƒ¯ 7/4/4 ë˜ëŠ” 7/7/1) */
        DECENT: 15,
        /** ìµœì†Œ (10% ì´ìƒ) */
        MINIMUM: 10,
    },
    /** ì—í”½ */
    EPIC: {
        /** ìœ ë‹ˆí¬ê¸‰ íš¨ìœ¨ (15% ì´ìƒ) */
        UNIQUE_LEVEL: 15,
        /** ì™„ë²½ (18% ì´ìƒ - ì£¼ìŠ¤íƒ¯ 6/6/6) */
        PERFECT: 18,
        /** ì¤€ìˆ˜ (12% ì´ìƒ - ì£¼ìŠ¤íƒ¯ 6/3/3 ë˜ëŠ” 6/6/0) */
        DECENT: 12,
        /** í†µê³¼ (9% ì´ìƒ) */
        PASS: 9,
        /** ì„±ìž¥ êµì°¨ì  (6% ì´ìƒ) */
        GROWTH: 6,
    },
} as const;

/**
 * ì—ë””ì…”ë„ ìž ìž¬ëŠ¥ë ¥ ìŠ¤íƒ¯ % ê¸°ì¤€
 */
export const ADDITIONAL_POTENTIAL_STAT = {
    /** ë ˆì „ë“œë¦¬ */
    LEGENDARY: {
        /** ì¢…ê²°ê¸‰ (21% ì´ìƒ) */
        EXCELLENT: 21,
        /** ìµœìƒê¸‰ (14% ì´ìƒ) */
        GREAT: 14,
        /** ì¤€ìˆ˜ (10% ì´ìƒ) */
        DECENT: 10,
    },
    /** ìœ ë‹ˆí¬ */
    UNIQUE: {
        /** ì¢…ê²°ê¸‰ (15% ì´ìƒ) */
        EXCELLENT: 15,
        /** ì¤€ìˆ˜ (10% ì´ìƒ) */
        DECENT: 10,
    },
    /** ì—í”½ */
    EPIC: {
        /** ì¢…ê²°ê¸‰ (10% ì´ìƒ) */
        EXCELLENT: 10,
        /** ì¤€ìˆ˜ (4% ì´ìƒ) */
        DECENT: 4,
    },
} as const;

/**
 * ë¬´ê¸° ìž ìž¬ëŠ¥ë ¥ ê¸°ì¤€ (WSE - Weapon/Secondary/Emblem)
 */
export const WEAPON_POTENTIAL = {
    /** ë³´ìŠ¤ ê³µê²©ë ¥ % */
    BOSS_DAMAGE: {
        /** 3ì¤„ ìµœëŒ€ (40/40/40 = 120%) */
        THREE_LINE_MAX: 120,
        /** 1ì¤„ ìµœëŒ€ (40%) */
        ONE_LINE_MAX: 40,
        /** 2ì¤„ ê¸°ì¤€ (80%) */
        TWO_LINE: 80,
    },
    /** ê³µ/ë§ˆ % ì¤„ ìˆ˜ */
    ATT_LINES: {
        /** 3ì¤„ */
        THREE: 3,
        /** 2ì¤„ */
        TWO: 2,
        /** 1ì¤„ */
        ONE: 1,
    },
} as const;

/**
 * ë¬´ê¸°/ì— ë¸”ë ˜ ì—ë””ì…”ë„ ì ìˆ˜ ê¸°ì¤€
 */
export const WEAPON_ADDITIONAL_SCORE = {
    /** ë ˆì „ë“œë¦¬ */
    LEGENDARY: {
        /** ì¢…ê²° (88 ì´ìƒ - ê³µ/ë§ˆ% 3ì¤„ ì™„ë²½) */
        EXCELLENT: 88,
        /** ì¤€ìˆ˜ (66 ì´ìƒ - ê³µ/ë§ˆ% 2ì¤„ ë˜ëŠ” ë³´ê³µ ì¡°í•©) */
        DECENT: 66,
        /** ì•„ì‰¬ì›€ (33 ì´ìƒ) */
        PASS: 33,
    },
    /** ìœ ë‹ˆí¬ */
    UNIQUE: {
        /** ì¢…ê²°ê¸‰ (90 ì´ìƒ - ê³µ/ë§ˆ% 3ì¤„) */
        EXCELLENT: 90,
        /** ì¤€ìˆ˜ (70 ì´ìƒ - ê³µ/ë§ˆ% 2ì¤„) */
        DECENT: 70,
    },
    /** ì—í”½ */
    EPIC: {
        /** í†µê³¼ (60 ì´ìƒ - ê³µ/ë§ˆ% 1ì¤„ ì´ìƒ) */
        PASS: 60,
    },
} as const;

/**
 * ì¿¨íƒ€ìž„ ê°ì†Œ ê¸°ì¤€
 */
export const COOLDOWN_REDUCTION = {
    /** ì´ˆì›”ê¸‰ (6ì´ˆ ì´ìƒ) */
    MYTHIC: 6,
    /** ì—”ë“œê¸‰ (5ì´ˆ ì´ìƒ) */
    ENDGAME: 5,
    /** ìµœìƒê¸‰ (4ì´ˆ ì´ìƒ) */
    EXCELLENT: 4,
    /** ì§„ì§œ ì¢‹ìŒ (3ì´ˆ ì´ìƒ) */
    GREAT: 3,
    /** ì¢‹ìŒ (2ì´ˆ ì´ìƒ) */
    GOOD: 2,
} as const;

/**
 * í¬ë¦¬í‹°ì»¬ ë°ë¯¸ì§€ ì¤„ ìˆ˜ ê¸°ì¤€
 */
export const CRIT_DAMAGE_LINES = {
    /** ì´ˆì›”ê¸‰ (3ì¤„) */
    MYTHIC: 3,
    /** ì—”ë“œê¸‰ (2ì¤„) */
    ENDGAME: 2,
    /** ì¢‹ìŒ (1ì¤„) */
    GOOD: 1,
} as const;

/**
 * ë¬´ê¸° ì—ë””ì…”ë„ ì ìˆ˜ ê³„ì‚° ê°€ì¤‘ì¹˜
 */
export const WEAPON_ADDITIONAL_WEIGHTS = {
    /** ë ˆì „ë“œë¦¬ */
    LEGENDARY: {
        ATT_PERCENT: 3,    // ê³µ/ë§ˆ % ê°€ì¤‘ì¹˜
        BOSS_DMG: 1.5,     // ë³´ìŠ¤ ê³µê²©ë ¥ ê°€ì¤‘ì¹˜
        DAMAGE: 1,         // ì¼ë°˜ ë°ë¯¸ì§€ ê°€ì¤‘ì¹˜
        MAX_POINTS: 9,     // ìµœëŒ€ ì ìˆ˜ (3ì¤„ Ã— 3ì )
    },
    /** ìœ ë‹ˆí¬ */
    UNIQUE: {
        ATT_PERCENT: 3,
        BOSS_DMG: 1,
        DAMAGE: 0.5,
        MAX_POINTS: 9,
    },
} as const;

/**
 * ì§ì—…ê³¼ ì•„ì´í…œ ë ˆë²¨ì— ë”°ë¼ ì ì ˆí•œ ìž ìž¬ëŠ¥ë ¥ ê¸°ì¤€ì„ ë°˜í™˜
 */
export function getPotentialCriteria(itemLevel: number, job?: string) {
    const isXenon = job && (job.includes('ì œë…¼') || job.replace(/\s/g, '').includes('ì œë…¼'));
    const is201Plus = itemLevel >= 201;

    if (isXenon) {
        return is201Plus
            ? MAIN_POTENTIAL_STAT.XENON_LEGENDARY_HIGH_LEVEL
            : MAIN_POTENTIAL_STAT.XENON_LEGENDARY;
    } else {
        return is201Plus
            ? MAIN_POTENTIAL_STAT.LEGENDARY_HIGH_LEVEL
            : MAIN_POTENTIAL_STAT.LEGENDARY;
    }
}
